{
  "_format": "hh-sol-artifact-1",
  "contractName": "BucketERC20",
  "sourceName": "contracts/BucketERC20.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_depositManagerContract",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_bucketL2Address",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "triggerAmount",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "expirationDate",
          "type": "uint256"
        }
      ],
      "name": "BucketCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "bucketId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "depositor",
          "type": "address"
        }
      ],
      "name": "Deposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "bucketId",
          "type": "uint256"
        }
      ],
      "name": "InsufficientReserve",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "tokenAddress",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "bucketId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "totalAmount",
          "type": "uint256"
        }
      ],
      "name": "TransferToPoly",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "bucketId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "withdrawer",
          "type": "address"
        }
      ],
      "name": "Withdraw",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "bucketInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "idCounter",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expirationTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expirationDate",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "thresholdAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "fee",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "bucketL2Address",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_expirationTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_thresholdAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_fee",
          "type": "uint256"
        }
      ],
      "name": "createBucket",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "depositAmount",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "depositManagerContract",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "deposits",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "makeTransfer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        }
      ],
      "name": "refund",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_expirationDate",
          "type": "uint256"
        }
      ],
      "name": "setExpirationDate",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_expirationTime",
          "type": "uint256"
        }
      ],
      "name": "setExpirationTime",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_fee",
          "type": "uint256"
        }
      ],
      "name": "setFee",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_thresholdAmount",
          "type": "uint256"
        }
      ],
      "name": "setThresholdAmount",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610fc7380380610fc783398101604081905261002f9161007c565b600080546001600160a01b039384166001600160a01b031991821617909155600180549290931691161790556100ae565b80516001600160a01b038116811461007757600080fd5b919050565b6000806040838503121561008e578182fd5b61009783610060565b91506100a560208401610060565b90509250929050565b610f0a806100bd6000396000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c8063abea22cc11610071578063abea22cc1461013f578063b818b39714610152578063e55156b514610165578063f4a1381414610178578063fa89401a14610198578063fc695720146101ab576100b4565b8063191604b9146100b957806321d6ef63146100ce57806328522ef8146100ec57806347e7ef24146100f457806379f77070146101075780637f41da3a1461012c575b600080fd5b6100cc6100c7366004610b42565b6101be565b005b6100d66101de565b6040516100e39190610c16565b60405180910390f35b6100d66101ed565b6100cc610102366004610b42565b6101fc565b61011a610115366004610b21565b610477565b6040516100e396959493929190610e28565b6100cc61013a366004610b42565b6104b3565b6100cc61014d366004610b42565b6104d2565b6100cc610160366004610b42565b610789565b6100cc610173366004610b42565b6107a8565b61018b610186366004610b6b565b6107c7565b6040516100e39190610e1f565b6100cc6101a6366004610b21565b6107ea565b6100cc6101b9366004610ba6565b610a02565b6001600160a01b0390911660009081526003602081905260409091200155565b6001546001600160a01b031681565b6000546001600160a01b031681565b6040516370a0823160e01b8152829082906001600160a01b038316906370a082319061022c903390600401610c16565b60206040518083038186803b15801561024457600080fd5b505afa158015610258573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061027c9190610bfe565b10156102a35760405162461bcd60e51b815260040161029a90610cb1565b60405180910390fd5b604051636eb1769f60e11b815282906001600160a01b0383169063dd62ed3e906102d39033903090600401610c2a565b60206040518083038186803b1580156102eb57600080fd5b505afa1580156102ff573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103239190610bfe565b10156103415760405162461bcd60e51b815260040161029a90610c81565b6040516323b872dd60e01b81526001600160a01b038216906323b872dd9061037190339030908790600401610c44565b602060405180830381600087803b15801561038b57600080fd5b505af115801561039f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c39190610bde565b6103df5760405162461bcd60e51b815260040161029a90610d5e565b6001600160a01b0383166000908152600360205260408120600401805484929061040a908490610e50565b90915550506001600160a01b03831660009081526003602090815260408083205460028352818420818552835281842033808652935281842086905590519092859184917fd68606c673aecac7ce24ec44fd7d77b401356dfd76fe9b36cb58e579c4220aed91a450505050565b60036020528060005260406000206000915090508060000154908060010154908060020154908060030154908060040154908060050154905086565b6001600160a01b03909116600090815260036020526040902060020155565b6001600160a01b038216600090815260036020526040902060020154421015610538576001600160a01b03821660009081526003602081905260409091209081015460049091015410156105385760405162461bcd60e51b815260040161029a90610da6565b6001600160a01b0382166000908152600360205260408120600501549060646105618385610e88565b61056b9190610e68565b6105759084610ea7565b6040516370a0823160e01b8152909150849082906001600160a01b038316906370a08231906105a8903090600401610c16565b60206040518083038186803b1580156105c057600080fd5b505afa1580156105d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105f89190610bfe565b10156106165760405162461bcd60e51b815260040161029a90610cb1565b60005460405163095ea7b360e01b81526001600160a01b038381169263095ea7b39261064a92909116908690600401610c68565b602060405180830381600087803b15801561066457600080fd5b505af1158015610678573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069c9190610bde565b6106b85760405162461bcd60e51b815260040161029a90610d16565b600054604051634bff5c9360e11b81526001600160a01b03909116906397feb926906106ea9088908690600401610c68565b600060405180830381600087803b15801561070457600080fd5b505af1158015610718573d6000803e3d6000fd5b5050506001600160a01b0386166000908152600360205260408120805492506001916107448385610e50565b9091555050604051839082906001600160a01b038916907ffc6c42955be240acf18595dbd7d1ee4bc62ee9b2ad69db5dc8b0f68b8983abbd90600090a4505050505050565b6001600160a01b03909116600090815260036020526040902060010155565b6001600160a01b03909116600090815260036020526040902060050155565b600260209081526000938452604080852082529284528284209052825290205481565b6001600160a01b038116600090815260036020908152604080832054600283528184208185528352818420338552909252909120548061083c5760405162461bcd60e51b815260040161029a90610ddd565b6040516370a0823160e01b8152839082906001600160a01b038316906370a082319061086c903090600401610c16565b60206040518083038186803b15801561088457600080fd5b505afa158015610898573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108bc9190610bfe565b10156108da5760405162461bcd60e51b815260040161029a90610cb1565b6001600160a01b03841660009081526003602052604081206004018054849290610905908490610ea7565b90915550506001600160a01b038085166000908152600260209081526040808320878452825280832033808552925280832092909255905163a9059cbb60e01b81529183169163a9059cbb9161095f918690600401610c68565b602060405180830381600087803b15801561097957600080fd5b505af115801561098d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109b19190610bde565b6109cd5760405162461bcd60e51b815260040161029a90610cdf565b6040513390839085907f71ef96c43343734b1d843bb85d52ef329f5e9143e4d35827771e3b0dd90c5f8490600090a450505050565b6001600160a01b0384166000908152600360205260408120805460019290610a2b908490610e50565b90915550506001600160a01b03841660009081526003602052604081206001018054859290610a5b908490610e50565b90915550610a6b90508342610e50565b6001600160a01b038516600090815260036020819052604082206002810193909355919091018054849290610aa1908490610e50565b90915550506001600160a01b038416600090815260036020526040808220600581018490556004810183905560028101549054915190928592917fd5e9dd6edb179c77bd920ffa6734424fe975ce91afa9fd994906aa7270f3d71d9190a450505050565b80356001600160a01b0381168114610b1c57600080fd5b919050565b600060208284031215610b32578081fd5b610b3b82610b05565b9392505050565b60008060408385031215610b54578081fd5b610b5d83610b05565b946020939093013593505050565b600080600060608486031215610b7f578081fd5b610b8884610b05565b925060208401359150610b9d60408501610b05565b90509250925092565b60008060008060808587031215610bbb578081fd5b610bc485610b05565b966020860135965060408601359560600135945092505050565b600060208284031215610bef578081fd5b81518015158114610b3b578182fd5b600060208284031215610c0f578081fd5b5051919050565b6001600160a01b0391909116815260200190565b6001600160a01b0392831681529116602082015260400190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b6001600160a01b03929092168252602082015260400190565b602080825260169082015275496e73756666696369656e7420616c6c6f77616e636560501b604082015260600190565b602080825260149082015273496e73756666696369656e742062616c616e636560601b604082015260600190565b60208082526019908201527f436f756c64206e6f74207472616e7366657220746f6b656e7300000000000000604082015260600190565b60208082526028908201527f436f756c64206e6f7420617070726f7665206465706f7369744d616e6167657260408201526710dbdb9d1c9858dd60c21b606082015260800190565b60208082526028908201527f436f756c64206e6f74207472616e7366657220746f6b656e732066726f6d206460408201526732b837b9b4ba37b960c11b606082015260800190565b6020808252601c908201527f5468726573686f6c6420616d6f756e74206e6f74207265616368656400000000604082015260600190565b60208082526022908201527f4d73672e73656e646572206465706f7369742062616c616e6365206973207a65604082015261726f60f01b606082015260800190565b90815260200190565b958652602086019490945260408501929092526060840152608083015260a082015260c00190565b60008219821115610e6357610e63610ebe565b500190565b600082610e8357634e487b7160e01b81526012600452602481fd5b500490565b6000816000190483118215151615610ea257610ea2610ebe565b500290565b600082821015610eb957610eb9610ebe565b500390565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220c86a83f8af355c63d7de65648dd6433605f74840bbcab7f3fc4770923488240264736f6c63430008000033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100b45760003560e01c8063abea22cc11610071578063abea22cc1461013f578063b818b39714610152578063e55156b514610165578063f4a1381414610178578063fa89401a14610198578063fc695720146101ab576100b4565b8063191604b9146100b957806321d6ef63146100ce57806328522ef8146100ec57806347e7ef24146100f457806379f77070146101075780637f41da3a1461012c575b600080fd5b6100cc6100c7366004610b42565b6101be565b005b6100d66101de565b6040516100e39190610c16565b60405180910390f35b6100d66101ed565b6100cc610102366004610b42565b6101fc565b61011a610115366004610b21565b610477565b6040516100e396959493929190610e28565b6100cc61013a366004610b42565b6104b3565b6100cc61014d366004610b42565b6104d2565b6100cc610160366004610b42565b610789565b6100cc610173366004610b42565b6107a8565b61018b610186366004610b6b565b6107c7565b6040516100e39190610e1f565b6100cc6101a6366004610b21565b6107ea565b6100cc6101b9366004610ba6565b610a02565b6001600160a01b0390911660009081526003602081905260409091200155565b6001546001600160a01b031681565b6000546001600160a01b031681565b6040516370a0823160e01b8152829082906001600160a01b038316906370a082319061022c903390600401610c16565b60206040518083038186803b15801561024457600080fd5b505afa158015610258573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061027c9190610bfe565b10156102a35760405162461bcd60e51b815260040161029a90610cb1565b60405180910390fd5b604051636eb1769f60e11b815282906001600160a01b0383169063dd62ed3e906102d39033903090600401610c2a565b60206040518083038186803b1580156102eb57600080fd5b505afa1580156102ff573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103239190610bfe565b10156103415760405162461bcd60e51b815260040161029a90610c81565b6040516323b872dd60e01b81526001600160a01b038216906323b872dd9061037190339030908790600401610c44565b602060405180830381600087803b15801561038b57600080fd5b505af115801561039f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c39190610bde565b6103df5760405162461bcd60e51b815260040161029a90610d5e565b6001600160a01b0383166000908152600360205260408120600401805484929061040a908490610e50565b90915550506001600160a01b03831660009081526003602090815260408083205460028352818420818552835281842033808652935281842086905590519092859184917fd68606c673aecac7ce24ec44fd7d77b401356dfd76fe9b36cb58e579c4220aed91a450505050565b60036020528060005260406000206000915090508060000154908060010154908060020154908060030154908060040154908060050154905086565b6001600160a01b03909116600090815260036020526040902060020155565b6001600160a01b038216600090815260036020526040902060020154421015610538576001600160a01b03821660009081526003602081905260409091209081015460049091015410156105385760405162461bcd60e51b815260040161029a90610da6565b6001600160a01b0382166000908152600360205260408120600501549060646105618385610e88565b61056b9190610e68565b6105759084610ea7565b6040516370a0823160e01b8152909150849082906001600160a01b038316906370a08231906105a8903090600401610c16565b60206040518083038186803b1580156105c057600080fd5b505afa1580156105d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105f89190610bfe565b10156106165760405162461bcd60e51b815260040161029a90610cb1565b60005460405163095ea7b360e01b81526001600160a01b038381169263095ea7b39261064a92909116908690600401610c68565b602060405180830381600087803b15801561066457600080fd5b505af1158015610678573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069c9190610bde565b6106b85760405162461bcd60e51b815260040161029a90610d16565b600054604051634bff5c9360e11b81526001600160a01b03909116906397feb926906106ea9088908690600401610c68565b600060405180830381600087803b15801561070457600080fd5b505af1158015610718573d6000803e3d6000fd5b5050506001600160a01b0386166000908152600360205260408120805492506001916107448385610e50565b9091555050604051839082906001600160a01b038916907ffc6c42955be240acf18595dbd7d1ee4bc62ee9b2ad69db5dc8b0f68b8983abbd90600090a4505050505050565b6001600160a01b03909116600090815260036020526040902060010155565b6001600160a01b03909116600090815260036020526040902060050155565b600260209081526000938452604080852082529284528284209052825290205481565b6001600160a01b038116600090815260036020908152604080832054600283528184208185528352818420338552909252909120548061083c5760405162461bcd60e51b815260040161029a90610ddd565b6040516370a0823160e01b8152839082906001600160a01b038316906370a082319061086c903090600401610c16565b60206040518083038186803b15801561088457600080fd5b505afa158015610898573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108bc9190610bfe565b10156108da5760405162461bcd60e51b815260040161029a90610cb1565b6001600160a01b03841660009081526003602052604081206004018054849290610905908490610ea7565b90915550506001600160a01b038085166000908152600260209081526040808320878452825280832033808552925280832092909255905163a9059cbb60e01b81529183169163a9059cbb9161095f918690600401610c68565b602060405180830381600087803b15801561097957600080fd5b505af115801561098d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109b19190610bde565b6109cd5760405162461bcd60e51b815260040161029a90610cdf565b6040513390839085907f71ef96c43343734b1d843bb85d52ef329f5e9143e4d35827771e3b0dd90c5f8490600090a450505050565b6001600160a01b0384166000908152600360205260408120805460019290610a2b908490610e50565b90915550506001600160a01b03841660009081526003602052604081206001018054859290610a5b908490610e50565b90915550610a6b90508342610e50565b6001600160a01b038516600090815260036020819052604082206002810193909355919091018054849290610aa1908490610e50565b90915550506001600160a01b038416600090815260036020526040808220600581018490556004810183905560028101549054915190928592917fd5e9dd6edb179c77bd920ffa6734424fe975ce91afa9fd994906aa7270f3d71d9190a450505050565b80356001600160a01b0381168114610b1c57600080fd5b919050565b600060208284031215610b32578081fd5b610b3b82610b05565b9392505050565b60008060408385031215610b54578081fd5b610b5d83610b05565b946020939093013593505050565b600080600060608486031215610b7f578081fd5b610b8884610b05565b925060208401359150610b9d60408501610b05565b90509250925092565b60008060008060808587031215610bbb578081fd5b610bc485610b05565b966020860135965060408601359560600135945092505050565b600060208284031215610bef578081fd5b81518015158114610b3b578182fd5b600060208284031215610c0f578081fd5b5051919050565b6001600160a01b0391909116815260200190565b6001600160a01b0392831681529116602082015260400190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b6001600160a01b03929092168252602082015260400190565b602080825260169082015275496e73756666696369656e7420616c6c6f77616e636560501b604082015260600190565b602080825260149082015273496e73756666696369656e742062616c616e636560601b604082015260600190565b60208082526019908201527f436f756c64206e6f74207472616e7366657220746f6b656e7300000000000000604082015260600190565b60208082526028908201527f436f756c64206e6f7420617070726f7665206465706f7369744d616e6167657260408201526710dbdb9d1c9858dd60c21b606082015260800190565b60208082526028908201527f436f756c64206e6f74207472616e7366657220746f6b656e732066726f6d206460408201526732b837b9b4ba37b960c11b606082015260800190565b6020808252601c908201527f5468726573686f6c6420616d6f756e74206e6f74207265616368656400000000604082015260600190565b60208082526022908201527f4d73672e73656e646572206465706f7369742062616c616e6365206973207a65604082015261726f60f01b606082015260800190565b90815260200190565b958652602086019490945260408501929092526060840152608083015260a082015260c00190565b60008219821115610e6357610e63610ebe565b500190565b600082610e8357634e487b7160e01b81526012600452602481fd5b500490565b6000816000190483118215151615610ea257610ea2610ebe565b500290565b600082821015610eb957610eb9610ebe565b500390565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220c86a83f8af355c63d7de65648dd6433605f74840bbcab7f3fc4770923488240264736f6c63430008000033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
